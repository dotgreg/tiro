(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[2],{388:function(e,t){},467:function(e,t){},469:function(e,t){},480:function(e,t){},482:function(e,t){},507:function(e,t){},509:function(e,t){},510:function(e,t){},515:function(e,t){},517:function(e,t){},536:function(e,t){},548:function(e,t){},551:function(e,t){},558:function(e,t,n){"use strict";n.r(t);var o,r=n(35),i=n(20),a=n.n(i),c=n(236),s=n.n(c),l=n(0),d=n(1),p=n(4),u=n(5);!function(e){e.connection="connection",e.disconnect="disconnect",e.connect="connect",e.reconnect="reconnect",e.connectionSuccess="connectionSuccess",e.askForFiles="askForFiles",e.getFiles="getFiles",e.askForFileContent="askForFileContent",e.getFileContent="getFileContent",e.saveFileContent="saveFileContent",e.getUploadedFile="getUploadedFile",e.moveFile="moveFile",e.searchFor="searchFor",e.askFolderHierarchy="askFolderHierarchy",e.getFolderHierarchy="getFolderHierarchy",e.createNote="createNote",e.createHistoryFile="createHistoryFile",e.onFileDelete="onFileDelete",e.askForExplorer="askForExplorer",e.askForNotepad="askForNotepad",e.uploadResourcesInfos="uploadResourcesInfos"}(o||(o={}));var h,f=n(351),g=3023,v=3021,b={log:{socket:!0,eventManager:!0},version:"build 13.2 25/01/2021",global:{socketPort:3022,socketUrl:window.location.hostname,staticPort:v,staticUrl:window.location.hostname,frontendPort:g,frontendUrl:window.location.hostname}},x=n(89),m=new(function(){function e(t){Object(l.a)(this,e),this.name=void 0,this.events={},this.name=t.name}return Object(d.a)(e,[{key:"on",value:function(e,t){var n=Object(x.random)(1,1e7);return this.events[e]||(this.events[e]={}),this.events[e][n]=t,n}},{key:"off",value:function(e){var t=this;Object(x.each)(this.events,(function(n,o){Object(x.each)(n,(function(n,r){r==e&&delete t.events[o][r]}))}))}},{key:"destroyEvent",value:function(e){delete this.events[e]}},{key:"trigger",value:function(e,t){b.log.eventManager&&console.log("%c [".concat(this.name.toUpperCase(),"] --\x3e trigger ").concat(e,", nb functions:"),"background: #ccc; color: blue",function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}(this.events[e]),"data: ",t),this.events[e]&&Object(x.each)(this.events[e],(function(e){e(t)}))}},{key:"clean",value:function(){this.events={}}}]),e}())({name:"Socket Event Manager"}),w=n(98),j=n(26),A=n(103),k=["January","February","March","April","May","June","July","August","September","October","November","December"],y=function(e){return e.getDate()+"  "+k[e.getMonth()]+" "+e.getFullYear()+" at "+e.getHours()+"h"+e.getMinutes()},O=function(e){return e.getDate()+"/"+e.getMonth()+"/"+e.getFullYear().toString().substr(2)};function C(){var e=Object(w.a)(["\n    \n    \n  "]);return C=function(){return e},e}var F=["none","Az","Crea","Modif"],S=["none","alphabetical","created","modified"],E=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).state={hoverMode:!1},o}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=S[this.props.sortMode];return Object(r.jsx)(P,{children:Object(r.jsx)("ul",{children:this.props.files.map((function(n,o){return Object(r.jsxs)("li",{className:o===e.props.activeFileIndex?"active":"",onClick:function(t){e.props.onFileClicked(o)},children:[Object(r.jsx)("span",{className:"checkbox",children:e.props.multiSelectMode&&Object(r.jsx)("input",{type:"checkbox",checked:e.props.multiSelectArray.includes(o),onChange:function(t){var n=e.props.multiSelectArray;if(e.props.multiSelectArray.includes(o))n=function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e}(n,o);else{var r,i=Object(x.max)(n)||0;if(console.log(1,o,i),e.props.ctrlPressed)if(Object(x.isNumber)(i)&&i<o)(r=n).push.apply(r,Object(j.a)(function(e,t){for(var n=[],o=e;o<t;o++)n.push(o);return n}(i,o)));n.push(o)}e.props.onMultiSelectChange(n)}})}),Object(r.jsx)("span",{className:"label",onMouseEnter:function(t){e.props.hoverMode&&e.props.onFileClicked(o)},children:n.name}),Object(r.jsx)("span",{className:"date ".concat(t),children:O(new Date(("modified"===t?n.modified:n.created)||0))})]},o)}))})})}}]),n}(a.a.Component),P=A.a.div(C()),D=n(13),I=n.n(D),M=n(352),T=n(393),N=function(e){var t='<a href="#" '.concat("onclick=\"window.open('$1','$1','width=600,height=600');\"",">$2</a>");return e.replace(/(https?:\/\/([A-Za-z0-9\/\:\.\_\-\/\\\?\=\&\%\ \#]*))/gm,t)},L=function(e){var t=e.replace(/\[search\|([A-Za-z0-9\/\:\.\_\-\/\\\?\=\&\#]*)([A-Za-z0-9\/\:\.\_\-\/\ \\\?\=\&\#]*)\]/gm,'<a class="extrawurst-link" href="javascript:window.ewTriggerSearch(\'$1$2\');">[$1]</a>');return t=(t=(t=(t=t.replaceAll(">[__id_",">[")).replaceAll(">[__tags_",">[")).replaceAll(">[__tag_",">[")).replaceAll(" ]</a>","]</a>")},H=function(e,t){var n="http://".concat(b.global.staticUrl,":").concat(v,"/").concat(e,"/$3"),o="onclick=\"window.open('".concat(n,"','popupdl','width=200,height=200');\""),r='<a href="#" '.concat(o,">$2</a>");return t.replace(/(\!\[([A-Za-z0-9\/\:\.\_\-\/\\\?\=\&\ \#]*)\]\(([A-Za-z0-9\/\:\.\_\-\/\\\?\=\&\ \#]*)\))/gm,r)},B=function(e,t){var n='<img class="content-image" src="http://'.concat(b.global.staticUrl,":").concat(v,"/").concat(e,'/$3"  />');return t.replace(/(\!\[([A-Za-z0-9\/\:\.\_\-\/\\\?\=\&\ \#]*)\]\(([A-Za-z0-9\/\:\.\_\-\/\\\?\=\&\ \#]*\.(jpg|jpeg|png|gif))\))/gm,n)},z=n(34),R=n(358),G=n(189),Y=function(){var e=window.innerWidth,t="desktop";return e<1100&&(t="tablet"),e<500&&(t="mobile"),t};function U(){var e=Object(w.a)(["\n\ndisplay: flex;\nflex-wrap: wrap;\njustify-content:center;\n\n\n.content-image {\n    /* max-width: 300px; */\n    width: 90%;\n  }\n.full {\n  .content-image {\n    /* max-width: 10000px; */\n  }\n}\n\n.main-wrapper {\n  display: flex;\n\n\n  .mobile-view-toggler {\n      position: fixed;\n      bottom: 0px;\n      left: 0px;\n      z-index: 10;\n      button {\n        width: 33vw;\n        padding: 10px;\n      }\n  }\n\n  .connection-status {\n    position: absolute;\n    bottom: 5px;\n    right: 5px;\n    font-size: 9px;\n    z-index: 11;\n    .disconnected{\n      color:red;\n    }\n    .connected {\n      color: green;\n    }\n  }\n\n  ////////////////////////////////////////////v \n  // LEFT\n  ////////////////////////////////////////////v\n  .left-wrapper {\n    background: ","; \n    width: ","vw;\n    display: ",";\n    .left-wrapper-1 {\n      background: ","; \n      color: white;\n      width: 40%;\n      padding-left: ","px;\n      height:100vh;\n      overflow: hidden;\n      overflow-y: auto;\n      position: relative;\n\n      \n    }\n    .left-wrapper-2 {\n      width: 60%;\n      height:100vh;\n      overflow: hidden;\n      overflow-y: auto;\n    }\n\n    .list-toolbar {\n      padding: 0px 10px;\n      position: relative;\n      button {\n        margin-right: 5px; \n      }\n\n      .items-list-count {\n        position: absolute;\n        color: grey;\n        font-size: 10px;\n        right: 10px;\n        top: 5px;\n      }\n    }\n\n    .list-wrapper {\n      ul {\n          list-style: none;\n          padding: 0px 0px 0px 0px;\n          li {\n              padding: 5px 15px;\n              display: block;\n              border-bottom: 1px rgba(0,0,0,0.1) solid;\n              color: blue;\n              cursor: pointer;\n              position: relative;\n              &.active {\n                text-decoration: underline;\n                  font-weight: 800;\n                  background: #ddddff;\n              }\n              .checkbox {\n\n              }\n              .label {\n                display: inline-block;\n                width: 90%;\n              }\n              .date {\n                position: absolute;\n                color: #a8a6a6;\n                font-size: 9px;\n                right: 5px;\n                top: 6px;\n                &.modified {\n                  color: green;\n                }\n              }\n          }\n      }\n    }\n    .search-input {\n        input {\n         ","\n        }\n    }\n    .search-status {\n      text-align: center;\n      font-size: 8px;\n    }\n  }\n\n  ////////////////////////////////////////////v \n  // RIGHT\n  ////////////////////////////////////////////v \n  .right-wrapper {\n      width: ","vw;\n      display: ",";\n      /* padding: 10px; */\n      padding-top: 0px;\n      /* max-height: 100vh;\n      overflow-y: auto; */\n    .note-wrapper {\n      .editor {\n        display: ",";\n        .dragzone {\n          &.hidden {\n            display:none;\n          }\n          display:block;\n          position: absolute;\n          top: 0px;\n          left: 0px;\n          width: 100vw;\n          height: 100vh;\n          z-index: 10;\n          background: rgba(255,255,255,0.4);\n        }\n        .editor-area {\n          &.inactive {\n            display: none;\n          }\n          width: ",";\n          display: ",";\n          .monaco-editor {\n            margin: 0px;\n          }\n          .textarea-editor {\n            border: none;\n            width: 96vw;\n            height: 70vh;\n            margin: 0px;\n            padding: 2vw;\n            background: rgba(255,255,255,0.7);\n          }\n      }\n        .preview-area {\n          .extrawurst-link {\n            font-weight: 800;\n            color: rgb(38 183 2);\n          }\n          &.full {\n            width: 100%;\n            pre {\n              code {\n                width: 90%;\n              }\n            }\n          }\n          width: ","%;\n          /* display: ","; */\n          display: ",";\n          padding: 30px 30px 30px 10px;\n          height: ",";\n          margin-bottom: 100px;\n          overflow: hidden;\n          overflow-y: scroll;\n\n          .preview-content {\n            margin-bottom:100px;\n          }\n          pre {\n            code {\n              display: block;\n              background: #434242;\n              border-radius: 8px;\n              color: rgb(243 232 223);\n              padding: 10px;\n            }\n          }\n        }\n      }\n\n\n\n\n\n\n      .toolbar-wrapper {\n        ","\n        padding: 10px 0px 10px 0px;\n        \n        .upload-button-wrapper {\n          position: relative;  \n          .input-file-hidden {\n            width: 0.1px;\n            height: 0.1px;\n            opacity: 0;\n            overflow: hidden;\n            position: absolute;\n            z-index: -1;\n          }\n        }\n\n\n        button {\n          margin-right: 5px;\n          &.delete {\n            /* background: red; */\n            position:absolute;\n            right: 10px;\n          }\n        }\n      }\n    \n      \n      .title-input-wrapper {\n          input {\n            border: none;\n            background: #eaeaea;\n            padding: 10px 1vw;\n            margin: 10px 1vw; \n            width: ",";\n          }\n        }\n      h3 {\n        margin-bottom: 0px;\n      }\n      .date {\n        font-size: 10px;\n        color: grey;\n      }\n      pre {\n        white-space: -moz-pre-wrap; /* Mozilla, supported since 1999 */\n        white-space: -pre-wrap; /* Opera */\n        white-space: -o-pre-wrap; /* Opera */\n        white-space: pre-wrap; /* CSS3 - Text module (Candidate Recommendation) http://www.w3.org/TR/css3-text/#white-space */\n        word-wrap: break-word; /* IE 5.5+ */\n      }\n    }\n  }\n}\n"]);return U=function(){return e},e}function J(){var e=Object(w.a)(["\n  body {\n    margin: 0;\n    padding: 0px;\n    height: 100vh;\n    overflow: hidden;\n    background: ",";\n    font-size: 11px;\n    font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;\n  }\n  html, body {\n    overflow: hidden;\n    heigth: 100vh;\n  }\n  body {\n    position: relative;\n  }\n"]);return J=function(){return e},e}var Q=Y(),W="\n        border: none;\n        background: #eaeaea;\n        padding: 10px 2vw;\n        margin: 10px ; \n    ",X={bg:{dark:"rgb(39, 39, 39)",grey:"rgb(221, 221, 221)",light:"#fceeded6"}},Z=Object(G.b)(J(),X.bg.light),K=A.a.div(U(),X.bg.grey,"desktop"===Q?"40":function(e){return"navigator"!==e.v?0:100},"desktop"===Q?"flex":function(e){return"navigator"!==e.v?"none":"flex"},X.bg.dark,"desktop"===Q?"90":"10",W,"desktop"===Q?"70":function(e){return"navigator"!==e.v?100:0},"desktop"===Q?"block":function(e){return"navigator"!==e.v?"block":"none"},"desktop"===Q?"flex":"block","desktop"===Q?"50%":function(e){return"editor"===e.v?"100vw":"0vw"},"desktop"===Q?"block":function(e){return"editor"===e.v?"block":"none"},"desktop"===Q?"43":function(e){return"editor"===e.v?"0":"100"},"desktop"===Q?"block":"none","desktop"===Q?"block":function(e){return"editor"===e.v?"none":"block"},"desktop"===Q?"100vh":"80vh","desktop"===Q?"position: absolute;\n          left: 70%;\n          width: 30%;":"\n          position: relative;\n          ","desktop"===Q?"80%":"96vw"),V=n(353);function q(){var e=Object(w.a)(["\n    height: 100vh;\n    .scroll-wrapper {\n      width: 100%;\n      height: 100%;\n    }\n    .vim-status-bar {\n      &.active {\n        display: block\n      }\n      display: none;\n      position: fixed;\n      bottom: 0px;\n      height: 18px;\n      padding: 5px 5px 7px 5px;\n      width: 80%;\n      z-index: 1;\n      background: rgba(255,255,255,0.9);\n      input {\n        background: #eeeeee;\n        border: none;\n        margin: 0px 5px;\n      }\n    }\n"]);return q=function(){return e},e}var _=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).reactComp=void 0,o.vimStatusBar=void 0,o.editor=void 0,o.monaco=void 0,o.editorDidMount=function(e,t){o.props.vimMode&&(console.log("[MONACO EDITOR] vim mode started",o.vimStatusBar.current),Object(V.initVimMode)(e,o.vimStatusBar.current)),o.editor=e,o.monaco=t,t.editor.defineTheme("customLightTheme",{base:"vs",inherit:!0,rules:[{background:"EDF9FA"}],colors:{"editor.foreground":"#000000","editor.background":X.bg.light}}),window.monacoEditor=t.editor,t.editor.setTheme("customLightTheme"),o.props.onEditorAvailable(Object(z.a)(o)),setTimeout((function(){}),3e3)},o.getCurrentLineInfos=function(){var e=o.editor.getValue(t),t=o.editor.getPosition(),n=e.split("\n");return{monacoPosition:o.editor.getPosition(),lines:n,activeLine:n[t.lineNumber-1],lineIndex:t.lineNumber-1}},o.reactComp=a.a.createRef(),o.vimStatusBar=a.a.createRef(),o}return Object(d.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.posY!==e.posY&&(console.log(this.props.posY),this.editor.setScrollPosition({scrollTop:this.props.posY})),this.props.insertUnderCaret!==e.insertUnderCaret&&""!==e.insertUnderCaret&&(console.log("[MONACO EDITOR] insert under Caret ".concat(e.insertUnderCaret)),this.editor.trigger("keyboard","type",{text:e.insertUnderCaret})),!0}},{key:"render",value:function(){var e=this;return Object(r.jsxs)($,{children:[Object(r.jsx)("div",{className:"vim-status-bar ".concat(this.props.vimMode?"active":""),ref:this.vimStatusBar}),Object(r.jsx)(R.a,{ref:this.reactComp,width:"100%",height:"100%",language:"markdown",theme:"vs",value:this.props.value,options:{automaticLayout:!0,selectOnLineNumbers:!0,minimap:{enabled:!1},wordWrap:"on",fontSize:11,scrollbar:{handleMouseWheel:!1}},editorDidMount:this.editorDidMount,onChange:function(t){e.props.onChange(t)}})]})}}]),n}(a.a.Component),$=A.a.div(q()),ee=n(354),te=n(355),ne=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(r.jsx)(ee.a,{icon:te[this.props.name]})}}]),n}(a.a.Component),oe=!1,re=function(e){oe||(oe=!0,window.addEventListener("paste",(function(t){!function(e,t){0==e.clipboardData&&"function"==typeof t&&t(void 0);var n=e.clipboardData.items;console.log(e,n,n.length),void 0==n&&"function"==typeof t&&t(void 0);for(var o=0;o<n.length;o++)if(-1!=n[o].type.indexOf("image")){var r=n[o].getAsFile();"function"==typeof t&&t(r)}}(t,(function(t){t&&e.onImagePasted(t)}))}),!1))},ie=n(201),ae=n.n(ie),ce=function(e,t){var n=ae.a.generateRSAKey(t,1024),o=ae.a.publicKeyString(n);return ae.a.encrypt(e,o)};function se(){var e=Object(w.a)(["\n    position: absolute;\n    z-index:1000;\n    top: 0px;\n    left: 0px;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0,0,0,0.1);\n"]);return se=function(){return e},e}function le(){var e=Object(w.a)(["\n    position: absolute;\n    z-index:1001;\n    left: 50%;\n    top:50%;\n    width : auto;\n    font-family: sans-serif;\n    transform:translate(-50%,-50%);\n    background: white;\n    .popupTitle {\n        margin: 0px 0px 20px 0px;\n        text-align: left;\n        background: grey;\n        color: white;\n        font-size: 14px;\n        padding: 5px 0px 5px 20px;\n    }\n    .popupContent {\n        padding: 0px 20px 20px 20px;\n        min-width : 350px;\n    }\n    img{\n        padding: 0px 5px 0px 0px;\n        margin: 5px 5px 0px 0px;\n    }\n"]);return le=function(){return e},e}var de=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ue,{onClick:function(t){e.props.onClose()}}),Object(r.jsxs)(pe,{children:[Object(r.jsxs)("div",{className:"popupTitle",children:[" ",this.props.title]}),Object(r.jsx)("div",{className:"popupContent",children:this.props.children})]})]})}}]),n}(a.a.Component),pe=A.a.div(le()),ue=A.a.div(se());function he(){var e=Object(w.a)(["\n    \n    \n  "]);return he=function(){return e},e}var fe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).passwordInput=void 0,o.passwordInput=a.a.createRef(),o.state={password:""},o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.passwordInput.current.focus()}},{key:"render",value:function(){var e=this;return Object(r.jsx)(ge,{children:Object(r.jsx)(de,{title:"please enter your password",onClose:function(){e.props.onClose()},children:Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{ref:this.passwordInput,type:"password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}),Object(r.jsx)("input",{type:"button",value:"submit",onClick:function(t){e.props.onSubmit(e.state.password)}})]})})})}}]),n}(a.a.Component),ge=A.a.div(he());function ve(){var e=Object(w.a)(["\n    ul.editor-toolbar {\n        display: flex;\n        position: fixed;\n        bottom: 40px;\n        list-style: none;\n        li {\n\n        }\n    }\n    \n  "]);return ve=function(){return e},e}var be=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).state={},o}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsx)(xe,{children:Object(r.jsxs)("ul",{className:"editor-toolbar",children:[Object(r.jsx)("li",{children:Object(r.jsxs)("button",{onClick:function(t){e.props.onButtonClicked("<-")},children:[" ","<-"," "]})}),Object(r.jsx)("li",{children:Object(r.jsxs)("button",{onClick:function(t){e.props.onButtonClicked("->")},children:[" ","->"," "]})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{onClick:function(t){e.props.onButtonClicked("addTodo")},children:" addTodo "})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{onClick:function(t){e.props.onButtonClicked("toggleTodo")},children:" toggleTodo "})})]})})}}]),n}(a.a.Component),xe=A.a.div(ve());function me(){var e=Object(w.a)(["\n    \n    \n  "]);return me=function(){return e},e}var we=n(554),je=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).textareaMobile=void 0,o.dragzone=void 0,o.uploadInput=void 0,o.previewContentWrapper=void 0,o.previewContent=void 0,o.keyUploadSocketListener=-1,o.onNoteLeaveLogic=function(){if(o.state.shouldSaveOnLeave?(console.log("[EDITOR] ON LEAVING AN EDITED DOCUMENT"),o.props.onFileEdited(o.props.file.path,o.state.fileContent)):console.log("[EDITOR] ON LEAVING AN UNEDITED DOCUMENT"),console.log("ON LEAVE",o.shouldEncryptOnLeave),o.shouldEncryptOnLeave&&o.state.password){var e=ce(o.state.fileContent,o.state.password);e.cipher&&o.props.onFileEdited(o.props.file.path,e.cipher),o.neutralizeDelayedFileSave=!0,setTimeout((function(){o.neutralizeDelayedFileSave=!1}),1e3)}o.shouldEncryptOnLeave=!1,o.noHistoryBackup=!1},o.triggerContentSaveLogic=function(e){o.setState({fileContent:e,shouldSaveOnLeave:!0}),o.state.shouldSaveOnLeave||o.noHistoryBackup||(console.log("[EDITOR] ON NEW DOCUMENT EDITION"),o.props.onSavingHistoryFile(o.props.file.path,e,"enter")),o.throttledOnFileEdited(o.props.file.path,e),o.debouncedOnFileEdited(o.props.file.path,e)},o.historySaveInterval=void 0,o.historyContent="",o.restartAutomaticHistorySave=function(){clearInterval(o.historySaveInterval);o.historySaveInterval=setInterval((function(){o.noHistoryBackup||(o.state.fileContent!==o.historyContent?(o.historyContent=o.state.fileContent,console.log("[EDITOR => HISTORY SAVE CRON] : content changed, saving history version ".concat(o.props.file.path)),o.props.onSavingHistoryFile(o.props.file.path,o.state.fileContent,"int")):console.log("[EDITOR => HISTORY SAVE CRON] : content not changed, do nothing"))}),6e5)},o.neutralizeDelayedFileSave=!1,o.throttledOnFileEdited=Object(x.throttle)((function(e,t){o.neutralizeDelayedFileSave||o.props.onFileEdited(e,t)}),1e3),o.debouncedOnFileEdited=Object(x.debounce)((function(e,t){o.neutralizeDelayedFileSave||o.props.onFileEdited(e,t)}),1e3),o.submitOnEnter=function(e){if("Enter"===e.key){if(o.state.filePath.length<3)return;o.props.onFilePathEdited(o.props.file.path,o.state.filePath)}},o.editorScrollLogic=function(e){var t=(e.deltaY>0?1:-1)*Math.min(Math.abs(e.deltaY),40),n=o.state.posY+t,r=o.previewContentWrapper.current,i=o.previewContent.current,a=o.state.monacoEditor?o.state.monacoEditor.editor.getContentHeight():0,c=Math.max(i.offsetHeight,a);n>-200&&n<c&&(console.log(n),o.setState({posY:n}),r.scrollTop=n)},o.intervalReinitPassword=void 0,o.startReinitPasswordInterval=function(){clearInterval(o.intervalReinitPassword),o.intervalReinitPassword=setInterval((function(){o.state.password&&(console.log("[PASSWORD REINIT] password exists, reinit to null"),o.setState({password:null}))}),6e5)},o.encryptContent=function(){if(o.state.password){var e=o.state.fileContent,t=ce(e,o.state.password);if("failure"===t.status)o.setState({password:null});else{o.shouldEncryptOnLeave=!1;var n=t.cipher;o.setState({fileContent:n}),o.triggerContentSaveLogic(n)}}},o.noHistoryBackup=!1,o.shouldEncryptOnLeave=!1,o.decryptContent=function(){if(o.state.password){var e=function(e,t){var n=ae.a.generateRSAKey(t,1024);return ae.a.decrypt(e,n)}(o.state.fileContent,o.state.password);if("failure"===e.status)o.setState({password:null}),alert("wrong password");else{o.noHistoryBackup=!0,o.shouldEncryptOnLeave=!0;var t=e.plaintext;o.setState({fileContent:e.plaintext}),o.triggerContentSaveLogic(t)}}},o.currentCarretPos=void 0,o.getLineTextInfos=function(){var e;return"desktop"===Y()&&o.state.monacoEditor?(e=o.state.monacoEditor.getCurrentLineInfos(),o.currentCarretPos=e.monacoPosition):(e=function(e){for(var t=e.value.split("\n"),n=e.selectionStart,o=0,r=0;o<n;)o+=t[r].length+1,r++;return{textareaPosition:n,lines:t,activeLine:t[--r],lineIndex:r}}(o.textareaMobile.current),o.currentCarretPos=e.textareaPosition,o.currentTop=o.textareaMobile.current.scrollTop),e},o.currentLineInfosInterval=void 0,o.currentLineInfos=void 0,o.currentTop=0,o.startLinesInfosInterval=function(){},o.resetCarretPosition=function(e){if("desktop"===Y()&&o.state.monacoEditor)o.state.monacoEditor.editor.setPosition(o.currentCarretPos);else{var t=o.textareaMobile.current;t.focus(),setTimeout((function(){t.selectionStart=o.currentCarretPos+e,t.selectionEnd=o.currentCarretPos+e,t.scrollTop=o.currentTop}))}},o.triggerEditorAction=function(e){var t=o.getLineTextInfos(),n=t.lines;"->"===e&&(n[t.lineIndex]="  "+n[t.lineIndex],o.resetCarretPosition(2)),"<-"===e&&(t.activeLine.startsWith("  ")?(n[t.lineIndex]=n[t.lineIndex].substr(2,n[t.lineIndex].length),o.resetCarretPosition(-2)):o.resetCarretPosition(0));var r=t.activeLine.trim();"addTodo"===e&&(r.startsWith("- [ ]")||r.startsWith("- [x]")?o.resetCarretPosition(0):(n[t.lineIndex]=n[t.lineIndex].replace(r,"- [ ]"+r.replace("-","")),o.resetCarretPosition(4))),"toggleTodo"===e&&(r.startsWith("- [ ]")?n[t.lineIndex]=n[t.lineIndex].replace("[ ]","[x]"):r.startsWith("- [x]")&&(n[t.lineIndex]=n[t.lineIndex].replace("[x]","[ ]")),o.resetCarretPosition(0)),o.triggerContentSaveLogic(n.join("\n"))},o.oldContentProp="",o.state={editorEnabled:!0,fileContent:"",shouldSaveOnLeave:!1,dragzoneEnabled:!1,vimMode:!1,filePath:"",insertUnderCaret:"",reloadEditor:!1,posY:0,askForPassword:null,password:null,monacoEditor:null},o.textareaMobile=a.a.createRef(),o.dragzone=a.a.createRef(),o.uploadInput=a.a.createRef(),o.previewContentWrapper=a.a.createRef(),o.previewContent=a.a.createRef(),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=this;console.log("[EDITOR] MOUNTED"),console.log(this.textareaMobile.current),this.restartAutomaticHistorySave(),this.startLinesInfosInterval(),this.keyUploadSocketListener=(e=function(e){var t="![".concat(e.name,"](").concat(e.path,")\n\n");n.setState({insertUnderCaret:t});var o=n.textareaMobile.current;o&&(function(e,t){if(t=t||"",e.selectionStart||0===e.selectionStart){var n=e.selectionStart,o=e.selectionEnd;e.value=e.value.substring(0,n)+t+e.value.substring(o,e.value.length),e.selectionStart=n+t.length,e.selectionEnd=n+t.length}else e.value+=t}(o,t),n.triggerContentSaveLogic(o.value))},m.on(o.getUploadedFile,(function(t){e(t)}))),re({onImagePasted:function(e){var t;t=e,new T(h).submitFiles([t])}}),t=this.uploadInput.current,new T(h).listenOnInput(t),function(e,t){new T(h).listenOnDrop(e),window.addEventListener("dragenter",(function(e){t.onDragStart()})),e.addEventListener("dragleave",(function(e){t.onDragEnd()})),window.addEventListener("drop",(function(e){t.onDragEnd()}))}(this.dragzone.current,{onDragEnd:function(){n.setState({dragzoneEnabled:!1})},onDragStart:function(){n.setState({dragzoneEnabled:!0}),h.emit(o.uploadResourcesInfos,{folderpath:n.props.file.folder})}})}},{key:"shouldComponentUpdate",value:function(e,t,n){return this.props.file!==e.file&&(this.onNoteLeaveLogic(),this.setState({shouldSaveOnLeave:!1,password:null}),console.log("[EDITOR] ON CHANGING DOCUMENT"),h.emit(o.uploadResourcesInfos,{folderpath:this.props.file.folder}),this.restartAutomaticHistorySave()),!0}},{key:"componentWillUnmount",value:function(){console.log("[EDITOR] will unmount ".concat(this.keyUploadSocketListener)),this.onNoteLeaveLogic(),m.off(this.keyUploadSocketListener),clearInterval(this.intervalReinitPassword)}},{key:"render",value:function(){var e=this;this.oldContentProp!==this.props.fileContent&&(this.setState({fileContent:this.props.fileContent,filePath:this.props.file.path}),this.oldContentProp=this.props.fileContent);var t=this.props.file.path.split("/");t.pop();var n=t.join("/");return Object(r.jsx)(Ae,{children:Object(r.jsxs)("div",{className:"editor",onWheelCapture:this.editorScrollLogic,children:[Object(r.jsx)("div",{className:"dragzone ".concat(this.state.dragzoneEnabled?"":"hidden"),ref:this.dragzone}),Object(r.jsxs)("div",{className:"toolbar-wrapper",children:[Object(r.jsx)("button",{type:"button",title:"Editor",onClick:function(t){e.setState({editorEnabled:!e.state.editorEnabled})},children:Object(r.jsx)(ne,{name:"faEdit"})}),Object(r.jsx)("button",{type:"button",title:"Detach",onClick:function(e){window.open(window.location.href,"popupDetached","width=600,height=600")},children:Object(r.jsx)(ne,{name:"faExternalLinkAlt"})}),Object(r.jsx)("button",{type:"button",title:"insert-unique-id",onClick:function(t){var n=e.state.fileContent,o=e.props.file.realname.replaceAll("-","").replaceAll("_","").replaceAll(" ","").replaceAll("/","").replaceAll(".md","").toLowerCase(),r="--id-".concat(o),i="__id_".concat(o),a="".concat(e.props.file.folder);n="".concat(r,"\n\n [search|").concat(i," ").concat(a,"]\n\n")+n,e.setState({fileContent:n})},children:Object(r.jsx)(ne,{name:"faFingerprint"})}),Object(r.jsx)("button",{type:"button",title:"encrypt",onClick:function(){var t=Object(M.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.password?e.encryptContent():e.setState({askForPassword:"toEncrypt"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:Object(r.jsx)(ne,{name:"faLock"})}),Object(r.jsx)("button",{type:"button",title:"decrypt",onClick:function(t){e.state.password?e.decryptContent():e.setState({askForPassword:"toDecrypt"})},children:Object(r.jsx)(ne,{name:"faUnlock"})}),Object(r.jsxs)("button",{type:"button",className:"upload-button-wrapper",title:"insert-unique-id",children:[Object(r.jsx)("input",{className:"input-file-hidden",id:"file",name:"file",type:"file",ref:this.uploadInput}),Object(r.jsx)("label",{for:"file",children:Object(r.jsx)(ne,{name:"faPaperclip"})})]}),Object(r.jsx)("button",{className:"delete",type:"button",title:"Delete",onClick:function(t){e.props.onFileDelete(e.props.file.path)},children:Object(r.jsx)(ne,{name:"faTrash"})})]}),Object(r.jsxs)("div",{className:"editor-area ".concat(this.state.editorEnabled?"active":"inactive"),children:[Object(r.jsx)("div",{className:"title-input-wrapper",children:Object(r.jsx)("input",{type:"text",value:this.state.filePath,onChange:function(t){e.setState({filePath:t.target.value})},onKeyDown:this.submitOnEnter})}),!this.state.reloadEditor&&"desktop"===Y()&&Object(r.jsx)(_,{value:this.state.fileContent,vimMode:this.state.vimMode,onChange:this.triggerContentSaveLogic,onEditorAvailable:function(t){e.setState({monacoEditor:t})},posY:this.state.posY,insertUnderCaret:this.state.insertUnderCaret}),"desktop"!==Y()&&Object(r.jsx)("textarea",{className:"textarea-editor",ref:this.textareaMobile,wrap:"physical",value:this.state.fileContent,onChange:function(t){e.triggerContentSaveLogic(t.target.value),console.log("why u no trigger")}})]}),Object(r.jsxs)("div",{className:"preview-area ".concat(this.state.editorEnabled?"half":"full"),ref:this.previewContentWrapper,children:[Object(r.jsx)("h3",{children:this.props.file.name}),Object(r.jsx)("br",{}),Object(r.jsxs)("div",{className:"date modified",children:["modified: ",y(new Date(this.props.file.modified||0))]}),Object(r.jsxs)("div",{className:"date created",children:["created: ",y(new Date(this.props.file.created||0))]}),Object(r.jsx)("div",{className:"preview-content",ref:this.previewContent,dangerouslySetInnerHTML:{__html:we(H(n,B(n,L(N(this.state.fileContent)))))}})]}),Object(r.jsx)(be,{onButtonClicked:function(t){e.triggerEditorAction(t)}}),this.state.askForPassword&&Object(r.jsx)(fe,{onClose:function(){e.setState({askForPassword:null})},onSubmit:function(t){var n=e.state.askForPassword;e.setState({password:t,askForPassword:null}),"toEncrypt"===n&&setTimeout((function(){e.encryptContent()}),100),"toDecrypt"===n&&setTimeout((function(){e.decryptContent()}),100)}})]})})}}]),n}(a.a.Component),Ae=A.a.div(me());function ke(){var e=Object(w.a)(["\n    \n  "]);return ke=function(){return e},e}var ye,Oe,Ce,Fe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).submitOnEnter=function(e){if("Enter"===e.key){if(console.log("do validate"),o.props.searchTerm.length<3)return;o.props.onSearchSubmit()}},o.state={search:""},o}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"search-input",children:Object(r.jsx)("input",{type:"text",value:this.props.searchTerm,onKeyDown:this.submitOnEnter,onChange:function(t){e.props.onSearchTermUpdate(t.target.value)}})}),Object(r.jsx)("div",{className:"search-status",children:this.props.isSearching&&"searching..."})]})}}]),n}(a.a.Component),Se=(A.a.div(ke()),n(357));function Ee(){var e=Object(w.a)(['\n.rc-tree {\n  margin: 0;\n  border: 1px solid transparent;\n}\n.rc-tree-focused:not(.rc-tree-active-focused) {\n  border-color: cyan;\n}\n.rc-tree .rc-tree-treenode {\n  margin: 0;\n  padding: 0;\n  line-height: 24px;\n  white-space: nowrap;\n  list-style: none;\n  outline: 0;\n}\n.rc-tree .rc-tree-treenode .draggable {\n  color: #dddddd;\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n  /* Required to make elements draggable in old WebKit */\n  -khtml-user-drag: element;\n  -webkit-user-drag: element;\n}\n.rc-tree .rc-tree-treenode.drop-container > .draggable::after {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  box-shadow: inset 0 0 0 2px red;\n  content: "";\n}\n.rc-tree .rc-tree-treenode.drop-container ~ .rc-tree-treenode {\n  border-left: 2px solid chocolate;\n}\n.rc-tree .rc-tree-treenode.drop-target {\n  background-color: yellowgreen;\n}\n.rc-tree .rc-tree-treenode.drop-target ~ .rc-tree-treenode {\n  border-left: none;\n}\n.rc-tree .rc-tree-treenode.filter-node > .rc-tree-node-content-wrapper {\n  color: #a60000 !important;\n  font-weight: bold !important;\n}\n.rc-tree .rc-tree-treenode ul {\n  margin: 0;\n  padding: 0 0 0 18px;\n}\n.rc-tree .rc-tree-treenode .rc-tree-node-content-wrapper {\n  position: relative;\n  display: inline-block;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n  text-decoration: none;\n  vertical-align: top;\n  cursor: pointer;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-switcher,\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox,\n.rc-tree .rc-tree-treenode span.rc-tree-iconEle {\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-right: 2px;\n  line-height: 16px;\n  vertical-align: -0.125em;\n  background-color: transparent;\n  background-image: url(\'',"');\n  background-repeat: no-repeat;\n  background-attachment: scroll;\n  border: 0 none;\n  outline: none;\n  cursor: pointer;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-switcher.rc-tree-icon__customize,\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox.rc-tree-icon__customize,\n.rc-tree .rc-tree-treenode span.rc-tree-iconEle.rc-tree-icon__customize {\n  background-image: none;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-icon_loading {\n  margin-right: 2px;\n  vertical-align: top;\n  background: url('data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7') no-repeat scroll 0 0 transparent;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-switcher.rc-tree-switcher-noop {\n  cursor: auto;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-switcher.rc-tree-switcher_open {\n  background-position: -93px -56px;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-switcher.rc-tree-switcher_close {\n  background-position: -75px -56px;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox {\n  width: 13px;\n  height: 13px;\n  margin: 0 3px;\n  background-position: 0 0;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox-checked {\n  background-position: -14px 0;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox-indeterminate {\n  background-position: -14px -28px;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox-disabled {\n  background-position: 0 -56px;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox.rc-tree-checkbox-checked.rc-tree-checkbox-disabled {\n  background-position: -14px -56px;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox.rc-tree-checkbox-indeterminate.rc-tree-checkbox-disabled {\n  position: relative;\n  background: #ccc;\n  border-radius: 3px;\n}\n.rc-tree .rc-tree-treenode span.rc-tree-checkbox.rc-tree-checkbox-indeterminate.rc-tree-checkbox-disabled::after {\n  position: absolute;\n  top: 5px;\n  left: 3px;\n  width: 5px;\n  height: 0;\n  border: 2px solid #fff;\n  border-top: 0;\n  border-left: 0;\n  -webkit-transform: scale(1);\n  transform: scale(1);\n  content: ' ';\n}\n.rc-tree:not(.rc-tree-show-line) .rc-tree-treenode .rc-tree-switcher-noop {\n  background: none;\n}\n.rc-tree.rc-tree-show-line .rc-tree-treenode:not(:last-child) > ul {\n  background: url('data:image/gif;base64,R0lGODlhCQACAIAAAMzMzP///yH5BAEAAAEALAAAAAAJAAIAAAIEjI9pUAA7') 0 0 repeat-y;\n}\n.rc-tree.rc-tree-show-line .rc-tree-treenode:not(:last-child) > .rc-tree-switcher-noop {\n  background-position: -56px -18px;\n}\n.rc-tree.rc-tree-show-line .rc-tree-treenode:last-child > .rc-tree-switcher-noop {\n  background-position: -56px -36px;\n}\n.rc-tree-child-tree {\n  display: none;\n}\n.rc-tree-child-tree-open {\n  display: block;\n}\n.rc-tree-treenode-disabled > span:not(.rc-tree-switcher),\n.rc-tree-treenode-disabled > a,\n.rc-tree-treenode-disabled > a span {\n  color: #767676;\n  cursor: not-allowed;\n}\n.rc-tree-treenode-active {\n  background: rgba(0, 0, 0, 0.1);\n}\n.rc-tree-node-selected {\n  /* background-color: #ffe6b0; */\n  /* padding:  */\n  /* box-shadow: 0 0 0 1px #ffb951; */\n  opacity: 0.8;\n  background: rgba(255,255,255,0.2);\n}\n.rc-tree-icon__open {\n  margin-right: 2px;\n  vertical-align: top;\n  background-position: -110px -16px;\n}\n.rc-tree-icon__close {\n  margin-right: 2px;\n  vertical-align: top;\n  background-position: -110px 0;\n}\n.rc-tree-icon__docu {\n  margin-right: 2px;\n  vertical-align: top;\n  background-position: -110px 0px;\n}\n.rc-tree-icon__customize {\n  margin-right: 2px;\n  vertical-align: top;\n}\n.rc-tree-title {\n  display: inline-block;\n}\n.rc-tree-indent {\n  display: inline-block;\n  vertical-align: bottom;\n  height: 0;\n}\n.rc-tree-indent-unit {\n  width: 16px;\n  display: inline-block;\n}\n\n"]);return Ee=function(){return e},e}var Pe,De,Ie,Me={motionName:"node-motion",motionAppear:!1,onAppearStart:function(e){return console.log("Start Motion:",e),{height:0}},onAppearActive:function(e){return{height:e.scrollHeight}},onLeaveStart:function(e){return{height:e.offsetHeight}},onLeaveActive:function(){return{height:0}}},Te=n(349),Ne=n(350).decorate(Te)((Ce=Oe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).onDragEnter=function(e){var t=e.expandedKeys;console.log("enter",t),o.setState({expandedKeys:t})},o.onExpand=function(e){console.log("onExpand",e),o.setState({expandedKeys:e,autoExpandParent:!1})},o.state={autoExpandParent:!0,expandedKeys:[]},o}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state.expandedKeys;return Object(r.jsx)(Le,{children:Object(r.jsxs)("div",{className:"draggable-demo",children:[Object(r.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n.rc-tree-child-tree {\n  display: block;\n}\n\n.node-motion {\n  transition: all .3s;\n  overflow-y: hidden;\n}\n"}}),Object(r.jsx)(Se.a,{expandedKeys:t,onExpand:this.onExpand,selectedKeys:[this.props.selected],autoExpandParent:this.state.autoExpandParent,draggable:!0,onDragEnter:this.onDragEnter,onRightClick:function(t){var n=t.node.path;n&&e.props.onFolderRightClicked(n)},onSelect:function(t,n){e.props.onFolderClicked(n.node.key)},treeData:[this.props.folder],motion:Me})]})})}}]),n}(a.a.Component),Oe.displayName="treeview",ye=Ce))||ye,Le=A.a.div(Ee(),"data:image/png;base64,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"),He=function(e,t,n){(e=e||window.event).keyCode==={up:38,down:40,ctrl:17,shift:16,alt:18}[t]&&n()},Be={},ze=function(){var e={},t=window.location.search,n=new URLSearchParams(t);return e.search=n.get("search")||void 0,e.file=n.get("file")?parseInt(n.get("file")):void 0,e.folder=n.get("folder")||void 0,e},Re=n(349),Ge=n(350).decorate(Re)((Ie=De=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).listenerIds=[],r.intPageBlink=void 0,r.updatePageTitle=function(){var e,t=function(){return window.location.host.includes(b.global.frontendPort.toString())?"Extrawurst (PROD ".concat(b.version,")"):"/!\\ DEV /!\\"};if(clearInterval(r.intPageBlink),r.state.isSocketConnected)e="".concat(t()," (Connected)"),console.log(13);else{console.log(12);var n="(DISCONNECTED)",o=n;e="".concat(t()," ").concat(o),r.intPageBlink=setInterval((function(){o=o===n?"(/!\\ DISCONNECTED /!\\)":n,e="".concat(t()," ").concat(o),document.title=e}),1e3)}document.title=e},r.toggleSocketConnection=function(e){console.log("[SOCKET CONNECTION TOGGLE] to ".concat(e)),r.setState({isSocketConnected:e}),setTimeout((function(){r.updatePageTitle()}),100)},r.toggleMobileView=function(e){r.setState({mobileView:e})},r.cleanFilesList=function(){r.setState({files:[]})},r.askForFolderFiles=function(e){h.emit(o.askForFiles,{folderPath:e})},r.cleanAndAskForFolderFiles=function(e){r.setState({isSearching:!0}),r.cleanFilesList(),r.askForFolderFiles(e)},r.askForFolderScan=function(){h.emit(o.askFolderHierarchy,{folderPath:""})},r.moveFile=function(e,t){console.log("[MOVEFILE] ".concat(e," -> ").concat(t)),h.emit(o.moveFile,{initPath:e,endPath:t,shouldRescan:!0})},r.promptAndBatchMoveFiles=function(e){if(window.confirm("Are you sure you want to move ".concat(r.state.multiSelectArray.length," files and their resources to ").concat(e))){for(var t=0;t<r.state.multiSelectArray.length;t++){var n=r.state.multiSelectArray[t],o=r.state.files[n],i=o.name.split("/"),a=i[i.length-1];r.moveFile(o.path,"".concat(e,"/").concat(a))}r.cleanMultiSelect(),r.emptyFileDetails()}},r.sortFiles=function(e,t){var n;switch(S[t]){case"none":n=Object(x.sortBy)(e,["index"]);break;case"alphabetical":n=Object(x.sortBy)(e,[function(e){return e.realname.toLocaleLowerCase()}]);break;case"created":n=Object(x.sortBy)(e,["created"]).reverse();break;case"modified":n=Object(x.sortBy)(e,["modified"]).reverse();break;default:n=Object(x.sortBy)(e,["index"])}return n},r.cleanMultiSelect=function(){r.setState({multiSelectMode:!1,multiSelectArray:[]})},r.emptyFileDetails=function(){r.setState({activeFileIndex:-1,activeFileContent:null})},r.loadFileDetails=function(e){console.log("loadfiledetails");var t=r.state.files[e];t&&t.name.endsWith(".md")&&(r.setState({activeFileIndex:e,activeFileContent:null}),h.emit(o.askForFileContent,{filePath:t.path}))},r.initKeyboardShortcuts=function(){window.onkeydown=function(e){He(e,"up",(function(){var e=r.state.activeFileIndex;e>0&&r.loadFileDetails(e-1)})),He(e,"down",(function(){var e=r.state.activeFileIndex;e<r.state.files.length-1&&r.loadFileDetails(e+1)})),He(e,"ctrl",(function(){r.setState({ctrlPressed:!0})}))},window.onkeyup=function(e){He(e,"ctrl",(function(){r.setState({ctrlPressed:!1})}))}},r.lastFolderIn="",r.lastSearchIn="",r.shouldLoadFirstNote=!1,r.onFolderFilesReceived=function(e){var t=Object(x.filter)(e.files,{extension:"md"});t=r.sortFiles(t,r.state.sortMode),r.setState({files:t,isSearching:!!e.temporaryResults}),-1!==r.state.activeFileIndex&&r.state.activeFileIndex<t.length&&r.loadFileDetails(r.state.activeFileIndex),setTimeout((function(){r.shouldLoadFirstNote&&(console.log(11,t.length),t.length>=1&&r.loadFileDetails(0),r.shouldLoadFirstNote=!1),r.state.selectedFolder===r.lastFolderIn&&r.state.searchTerm===r.lastSearchIn||(t.length>=1&&r.loadFileDetails(0),console.log(12,t.length),r.lastFolderIn=r.state.selectedFolder,r.lastSearchIn=r.state.searchTerm,r.cleanMultiSelect())}),100)},r.initSearchForContentLinks=function(){window.ewTriggerSearch=function(e){console.log("[SEARCH FROM LINK] for ".concat(e)),e=e.replaceAll("_","-"),r.triggerSearch(e)}},r.triggerSearch=function(e){console.log("[APP -> TRIGGER SEARCH] ".concat(e)),r.emptyFileDetails(),r.cleanFilesList(),r.cleanMultiSelect(),r.setState({searchTerm:e,isSearching:!0,selectedFolder:"",activeFileIndex:-1}),h.emit(o.searchFor,{term:e})},r.ignoreNextUrlChange=!1,r.updateAppUrl=Object(x.debounce)((function(){if(r.ignoreNextUrlChange)return r.ignoreNextUrlChange=!1;console.log("[UPDATE APP URL]"),function(e){var t="".concat(window.location.protocol,"//").concat(window.location.host,"/?");Object(x.isNumber)(e.file)&&-1!==e.file&&(t+="file=".concat(e.file,"&")),e.folder&&""!==e.folder&&!e.search&&(t+="folder=".concat(e.folder,"&")),e.folder||e.search||(t+="folder=/&"),e.search&&""!==e.search&&(t+="search=".concat(e.search,"&")),window.history.pushState({},document.title,t),Be=ze()}({file:r.state.activeFileIndex,folder:r.state.selectedFolder,search:r.state.searchTerm})}),200),r.initUrlParamsLogic=function(){var e,t=ze();r.reactToUrlParams(t),e={onUrlParamsChange:function(e){r.ignoreNextUrlChange=!0,r.reactToUrlParams(e)}},window.log2=console.log,window.onpopstate=function(){var t=ze();JSON.stringify(t)!==JSON.stringify(Be)&&(Be=t,console.log("[URL CHANGE DETECTED]",t),e.onUrlParamsChange(t))}},r.reactToUrlParams=function(e){if(e.folder){console.log(110);var t=Object(x.isNumber)(e.file)?e.file:-1;r.setState({selectedFolder:e.folder,activeFileIndex:t,searchTerm:""}),r.askForFolderFiles(e.folder)}e.search&&(console.log("reactToUrlParams -> triggersearch"),r.triggerSearch(e.search))},r.state={files:[],folderHierarchy:{title:"",key:"",path:""},activeFileIndex:-1,selectedFolder:"",searchTerm:"",activeFileContent:null,isSearching:!1,ctrlPressed:!1,hoverMode:!1,multiSelectMode:!1,sortMode:0,multiSelectArray:[],mobileView:"navigator",isSocketConnected:!1},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("[APP] MOUNTED on a ".concat(Y())),this.toggleSocketConnection(!1),this.updatePageTitle(),this.initKeyboardShortcuts(),new Promise((function(e,t){var n="".concat(b.global.socketUrl,":").concat(b.global.socketPort);h=f(n),b.log.socket&&console.log("[SOCKET] connecting to ".concat(n,"...")),h.on(o.connectionSuccess,(function(t){b.log.socket&&console.log("[SOCKET] connection successful!, socket.connected :".concat(h.connected),t),e(h)}))})).then((function(){e.toggleSocketConnection(!0),e.initUrlParamsLogic(),e.initSearchForContentLinks(),Object(x.each)(o,(function(e){h.on(e,(function(t){m.trigger(e,t)}))})),setInterval((function(){}),6e4),-1!==e.state.activeFileIndex&&e.loadFileDetails(e.state.activeFileIndex),e.askForFolderScan(),e.setState({ctrlPressed:!1}),e.lastFolderIn=e.state.selectedFolder,e.lastSearchIn=e.state.searchTerm,e.listenerIds[0]=m.on(o.getFiles,(function(t){e.onFolderFilesReceived(t)})),e.listenerIds[1]=m.on(o.getFileContent,(function(t){e.setState({activeFileContent:t.fileContent})})),e.listenerIds[2]=m.on(o.getFolderHierarchy,(function(t){e.setState({folderHierarchy:t.folder})})),e.listenerIds[3]=m.on(o.disconnect,(function(){e.toggleSocketConnection(!1)})),e.listenerIds[4]=m.on(o.reconnect,(function(){e.toggleSocketConnection(!0)})),e.listenerIds[5]=m.on(o.connect,(function(){e.toggleSocketConnection(!0)}))}))}},{key:"componentDidUpdate",value:function(e,t){t.files!==this.state.files&&-1!==this.state.activeFileIndex&&this.loadFileDetails(this.state.activeFileIndex),t.activeFileIndex===this.state.activeFileIndex&&t.selectedFolder===this.state.selectedFolder&&t.isSearching===this.state.isSearching||this.updateAppUrl()}},{key:"componentWillUnmount",value:function(){this.listenerIds.forEach((function(e){m.off(e)}))}},{key:"render",value:function(){var e=this;return Object(r.jsxs)(K,{v:this.state.mobileView,children:[Object(r.jsx)(G.a,{styles:Z}),Object(r.jsxs)("div",{className:"main-wrapper",children:[Object(r.jsx)("div",{className:"connection-status",children:this.state.isSocketConnected?Object(r.jsx)("div",{className:"connected",children:"connected"}):Object(r.jsx)("div",{className:"disconnected",children:"/!\\ DISCONNECTED /!\\"})}),"desktop"!==Y()&&Object(r.jsxs)("div",{className:"mobile-view-toggler",children:[Object(r.jsx)("button",{type:"button",onClick:function(t){e.toggleMobileView("navigator")},children:"Nav"}),Object(r.jsx)("button",{type:"button",onClick:function(t){e.toggleMobileView("editor")},children:"Edi"}),Object(r.jsx)("button",{type:"button",onClick:function(t){e.toggleMobileView("preview")},children:"Prev"})]}),Object(r.jsxs)("div",{className:"left-wrapper",children:[Object(r.jsx)("div",{className:"left-wrapper-1",children:Object(r.jsx)(Ne,{selected:this.state.selectedFolder,folder:this.state.folderHierarchy,onFolderClicked:function(t){e.state.multiSelectMode&&e.state.multiSelectArray.length>0?e.promptAndBatchMoveFiles(t):(e.shouldLoadFirstNote=!0,e.setState({selectedFolder:t,searchTerm:"",activeFileIndex:-1}),e.cleanAndAskForFolderFiles(t))},onFolderRightClicked:function(e){h.emit(o.askForExplorer,{folderpath:e})}})}),Object(r.jsxs)("div",{className:"left-wrapper-2",children:[Object(r.jsx)(Fe,{onSearchSubmit:function(){e.triggerSearch(e.state.searchTerm)},onSearchTermUpdate:function(t){e.setState({searchTerm:t})},searchTerm:this.state.searchTerm,isSearching:this.state.isSearching,isListEmpty:0===this.state.files.length}),Object(r.jsxs)("div",{className:"list-toolbar",children:[""===this.state.searchTerm&&Object(r.jsx)("button",{onClick:function(t){h.emit(o.createNote,{folderPath:e.state.selectedFolder})},children:Object(r.jsx)(ne,{name:"faStickyNote"})}),Object(r.jsxs)("button",{type:"button",title:this.state.multiSelectMode?"Select:On":"Select:Off",onClick:function(t){return e.setState({multiSelectMode:!e.state.multiSelectMode,multiSelectArray:[]})},children:[" ",Object(r.jsx)(ne,{name:"faCheckDouble"})," "]}),Object(r.jsxs)("button",{type:"button",title:"sort",onClick:function(t){var n=e.state.sortMode+1>=S.length?0:e.state.sortMode+1,o=e.sortFiles(e.state.files,n);e.setState({sortMode:n,files:o})},children:[" ",Object(r.jsx)(ne,{name:"faSort"})," ",0!==this.state.sortMode&&F[this.state.sortMode]," "]}),this.state.files.length>0&&Object(r.jsxs)("span",{className:"items-list-count",children:[this.state.files.length," els"]})]}),Object(r.jsx)("div",{className:"list-wrapper",children:Object(r.jsx)(E,{files:this.state.files,hoverMode:this.state.hoverMode,activeFileIndex:this.state.activeFileIndex,ctrlPressed:this.state.ctrlPressed,sortMode:this.state.sortMode,multiSelectArray:this.state.multiSelectArray,multiSelectMode:this.state.multiSelectMode,onMultiSelectChange:function(t){return e.setState({multiSelectArray:t})},onFileClicked:function(t){e.loadFileDetails(t)}})})]})]}),Object(r.jsx)("div",{className:"right-wrapper",children:Object(r.jsxs)("div",{className:"note-wrapper",children:[-1!==this.state.activeFileIndex&&this.state.files[this.state.activeFileIndex]&&Object(r.jsx)(je,{file:this.state.files[this.state.activeFileIndex],fileContent:this.state.activeFileContent?this.state.activeFileContent:"",onFileEdited:function(e,t){console.log("[APP] API -> ask for file save",{filepath:e,content:t}),h.emit(o.saveFileContent,{filepath:e,newFileContent:t})},onFilePathEdited:function(t,n){console.log("[APP] onFilePathEdited =>",{initPath:t,endPath:n}),e.emptyFileDetails(),e.moveFile(t,n)},onSavingHistoryFile:function(e,t,n){console.log("[APP] onSavingHistoryFile ".concat(n," => ").concat(e)),h.emit(o.createHistoryFile,{filePath:e,content:t,historyFileType:n})},onEditorDetached:function(t){h.emit(o.askForNotepad,{filepath:t}),setTimeout((function(){e.emptyFileDetails()}),500)},onFileDelete:function(t){console.log("[APP] onFileDelete => ".concat(t));var n=e.state.activeFileIndex;n>0?e.loadFileDetails(n-1):n<e.state.files.length-2?e.loadFileDetails(n+1):e.emptyFileDetails(),h.emit(o.onFileDelete,{filepath:t}),e.askForFolderFiles(e.state.selectedFolder)}}),-1===this.state.activeFileIndex&&Object(r.jsx)("div",{children:"no file selected"})]})})]})]})}}]),n}(a.a.Component),De.displayName="extrawurstApp",Pe=Ie))||Pe;s.a.render(Object(r.jsx)(Ge,{}),document.getElementById("root"))}},[[558,3,4]]]);
//# sourceMappingURL=main.be2fab07.chunk.js.map